# Adaptive-Binarizer

На ветке v1 - первое решение, оно работает плохо.

На этой ветке решение, которое разрабатывается сейчас.

#### Идея этого решения
В папке more revealing dataset собраны различные графики, собранные с целью выявления зависимости между размером шрифта и точностью (при одинаковых delta и размерах блоков) - text7 и text7_2. Остальные директории в папке more revealing dataset - исследование зависимости точность от delta для конкретной картинки.
'Зависимость' наиболее подходящей delta от med (из функции _adaptive_median_threshold файла adaptive_binarizer.py) получилась следующей:

med; good_delta

text14: 75 ; 36-50

text15: 61; видимо, ответ на малых block_size (~36?)

text16: 81; 70

text17: 59; 38

text18: 55; 70 (40 тоже неплохо)

text19: 70; 35; видимо, ответ на малых block_size

text23: 19; <90 - эту картинку OCR распознает хорошо и без бинаризации. Медиана 19 - это говорит о том, что картинка довольно светлая

Глядя на полученные результаты, мне показалось, что основные параметры картинки, влияющие на delta это: соотношения медиан по всем каналам (если какой-то цвет преобладает, картинка распознается лучше), медиана черно-белой картинки(из нее и получается med), наличие "рамочки" - медиана предполагаемой рамочки. Эти данные - входы нейронной сети ann.py

